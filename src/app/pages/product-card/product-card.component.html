<div class="product-card">
  <!-- Existing card content -->
  <div class="image-container">
    <a [routerLink]="['/product', product.id]">
      <img [src]="product.imageUrl" [alt]="product.name" class="product-img">
    </a>
    
    <div class="discount-badge" *ngIf="product.discount">
      <span>{{product.discount}}% OFF</span>
    </div>
  </div>

  <div class="product-info">
    <a [routerLink]="['/product', product.id]" class="product-link">
      <h3 class="product-name">{{ product.name }}</h3>
      
      <div class="price-container">
        <span class="original-price" *ngIf="product.oldPrice">
          {{ formatPrice(product.oldPrice) }}
        </span>
        <span class="current-price">
          {{ formatPrice(product.price) }}
        </span>
      </div>

      <div class="installment-info" *ngIf="product.installments">
        <span>{{product.installments.quantity}}x de </span>
        <span>{{ formatPrice(product.installments.value) }}</span>
        <span class="no-interest">sem juros</span>
      </div>
    </a>

    <div class="product-actions">
      <div class="action-buttons">
        <button class="btn-primary" (click)="toggleSizeSelector()">
          Comprar
        </button>
        <button class="btn-secondary" [routerLink]="['/product', product.id]">
          <i class="fas fa-eye"></i>
          <span class="quick-view-text">Espiar</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Size Selector Overlay -->
  <div class="size-selector-overlay" *ngIf="showSizeSelector">
    <div class="size-selector-content">
      <div class="size-selector-header">
        <h3>TAMANHO</h3>
        <button class="close-button" (click)="toggleSizeSelector()">
          <span class="material-icons">close</span>
        </button>
      </div>
      
      <div class="size-options">
        <button *ngFor="let size of product.sizes"
                class="size-button"
                [class.selected]="selectedSize === size"
                (click)="selectSize(size)">
          {{ size }}
        </button>
      </div>
      
      <button class="btn-primary buy-button"
              [disabled]="!selectedSize"
              (click)="addToCart()">
        COMPRAR
      </button>
    </div>
  </div>
</div>