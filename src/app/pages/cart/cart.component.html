<!-- src/app/pages/cart/cart.component.html -->
<div class="cart-page">
    <div class="container">
      <h1>Shopping Cart</h1>
  
      <ng-container *ngIf="cart$ | async as cart">
        <div class="cart-content" *ngIf="cart.items.length; else emptyCart">
          <div class="cart-items">
            <div class="cart-item" *ngFor="let item of cart.items">
              <div class="item-image">
                <img [src]="item.imageUrl" [alt]="item.name">
              </div>
              
              <div class="item-details">
                <h3>{{item.name}}</h3>
                <p class="price">${{item.price}}</p>
                
                <div class="quantity-controls">
                  <button (click)="updateQuantity(item, item.quantity - 1)" 
                          [disabled]="item.quantity === 1">-</button>
                  <span>{{item.quantity}}</span>
                  <button (click)="updateQuantity(item, item.quantity + 1)">+</button>
                </div>
                
                <button class="remove-btn" (click)="removeItem(item.productId)">
                  Remove
                </button>
              </div>
            </div>
          </div>
  
          <div class="cart-summary">
            <h2>Order Summary</h2>
            <div class="summary-row">
              <span>Subtotal</span>
              <span>${{cart.subtotal}}</span>
            </div>
            <div class="summary-row">
              <span>Shipping</span>
              <span>${{cart.shipping}}</span>
            </div>
            <div class="summary-row total">
              <span>Total</span>
              <span>${{cart.total}}</span>
            </div>
            
            <button class="checkout-btn" (click)="proceedToCheckout()">
              Proceed to Checkout
            </button>
          </div>
        </div>
  
        <ng-template #emptyCart>
          <div class="empty-cart">
            <i class="fas fa-shopping-cart"></i>
            <h2>Your cart is empty</h2>
            <p>Looks like you haven't added any items to your cart yet.</p>
            <button routerLink="/" class="btn-primary">Continue Shopping</button>
          </div>
        </ng-template>
      </ng-container>
    </div>
  </div>